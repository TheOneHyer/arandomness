
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>argparse &#8212; arandomness 0.2.0b7 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="string" href="string.html" />
    <link rel="prev" title="arandomness: an arandom assortment of random modules" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">arandomness</a></h1>



<p class="blurb">An arandom assortment of random modules</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=TheOneHyer&repo=arandomness&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">argparse</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#checkthreads">CheckThreads</a></li>
<li class="toctree-l2"><a class="reference internal" href="#copyright">CopyRight</a></li>
<li class="toctree-l2"><a class="reference internal" href="#copen">COpen</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parseseparator">ParseSeparator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="string.html">string</a></li>
<li class="toctree-l1"><a class="reference internal" href="trees.html">trees</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">arandomness: an arandom assortment of random modules</a></li>
      <li>Next: <a href="string.html" title="next chapter">string</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-arandomness.argparse">
<span id="argparse"></span><h1>argparse<a class="headerlink" href="#module-arandomness.argparse" title="Permalink to this headline">¶</a></h1>
<p>Initializes argparse package of arandomness</p>
<dl class="docutils">
<dt>Copyright:</dt>
<dd><p class="first">__init.py__  initializes argparse package of arandomness
Copyright (C) 2017  Alex Hyer</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.</p>
<p class="last">You should have received a copy of the GNU General Public License
along with this program.  If not, see &lt;<a class="reference external" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</p>
</dd>
</dl>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">argparse</span></code> subpackage of arandomness contains scripts and
<a class="reference external" href="https://docs.python.org/3/library/argparse.html#action">actions</a> to
expand the utility of Python’s
<a class="reference external" href="https://docs.python.org/3/library/argparse.html">argparse</a>
library.</p>
</div>
<div class="section" id="checkthreads">
<h2>CheckThreads<a class="headerlink" href="#checkthreads" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">CheckThreads</span></code> is an <code class="docutils literal notranslate"><span class="pre">argparse</span></code> <code class="docutils literal notranslate"><span class="pre">action</span></code>, as such, it is called as the
value of the <code class="docutils literal notranslate"><span class="pre">action</span></code> argument in <code class="docutils literal notranslate"><span class="pre">argparse</span></code>. For example:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arandomness.argparse</span> <span class="kn">import</span> <span class="n">CheckThreads</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-t&#39;</span><span class="p">,</span> <span class="s1">&#39;--threads&#39;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="n">CheckThreads</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
                    <span class="n">default</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;number of threads to use&#39;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">-t</span></code> is parsed, the value is passed to <code class="docutils literal notranslate"><span class="pre">CheckThreads</span></code> which then
checks that the value is between 1 and the maximum number of threads on the
computer as per
<a class="reference external" href="https://docs.python.org/2/library/multiprocessing.html#multiprocessing.cpu_count">multiprocessing.cpu_count()</a>.</p>
<div class="section" id="api-documentation">
<h3>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="arandomness.argparse.CheckThreads">
<em class="property">class </em><code class="descclassname">arandomness.argparse.</code><code class="descname">CheckThreads</code><span class="sig-paren">(</span><em>option_strings</em>, <em>dest</em>, <em>nargs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arandomness/argparse/CheckThreads.html#CheckThreads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#arandomness.argparse.CheckThreads" title="Permalink to this definition">¶</a></dt>
<dd><p>Argparse Action that ensures number of threads requested is valid</p>
<p class="rubric">Example</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">arandomness.argparse</span> <span class="k">import</span> <span class="n">CheckThreads</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">action</span><span class="o">=</span><span class="n">CheckThreads</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span><span class="o">.</span><span class="n">test</span>
<span class="go">1</span>
</pre></div>
</div>
<dl class="method">
<dt id="arandomness.argparse.CheckThreads.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>parser</em>, <em>namespace</em>, <em>values</em>, <em>option_string=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arandomness/argparse/CheckThreads.html#CheckThreads.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#arandomness.argparse.CheckThreads.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by Argparse when user specifies multiple threads</p>
<p>Simply asserts that the number of threads requested is greater than 0
but not greater than the maximum number of threads the computer
can support.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parser</strong> (<em>ArgumentParser</em>) – parser used to generate values</li>
<li><strong>namespace</strong> (<em>Namespace</em>) – parse_args() generated namespace</li>
<li><strong>values</strong> (<em>int</em>) – actual value specified by user</li>
<li><strong>option_string</strong> (<em>str</em>) – argument flag used to call this function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code> – if threads is not an integer</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – if threads is less than one or greater than number of
threads available on computer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="copyright">
<h2>CopyRight<a class="headerlink" href="#copyright" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">CopyRight</span></code> is an <code class="docutils literal notranslate"><span class="pre">argparse</span></code> <code class="docutils literal notranslate"><span class="pre">action</span></code> that simply takes in text,
strips it of leading and trailing whitespace, prints it, and exits the
program. Its functionality is analogous to
<code class="docutils literal notranslate"><span class="pre">argparse</span></code>’s <a class="reference external" href="https://docs.python.org/3/library/argparse.html#action">version</a>. The action can take in arbitrary text and is only named
<code class="docutils literal notranslate"><span class="pre">CopyRight</span></code> for code readability.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arandomness.argparse</span> <span class="kn">import</span> <span class="n">CopyRight</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--copyright&#39;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="n">CopyRight</span><span class="p">,</span>
                    <span class="n">copyright_text</span><span class="o">=</span><span class="s1">&#39;This is my copyright&#39;</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;print copyright and exit&#39;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
</pre></div>
</div>
<div class="section" id="id2">
<h3>API Documentation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="arandomness.argparse.CopyRight">
<em class="property">class </em><code class="descclassname">arandomness.argparse.</code><code class="descname">CopyRight</code><span class="sig-paren">(</span><em>option_strings</em>, <em>dest</em>, <em>copyright_text=None</em>, <em>nargs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arandomness/argparse/CopyRight.html#CopyRight"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#arandomness.argparse.CopyRight" title="Permalink to this definition">¶</a></dt>
<dd><p>Argparse Action that prints a program copyright and exits program</p>
<p>Note: It does not escape my notice that this action prints arbitrary text
without any sort of “copyright-specific” attributes or mangling. This
function is only called this for readability in code.</p>
<p class="rubric">Example</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span>
<span class="o">...</span>                     <span class="n">action</span><span class="o">=</span><span class="n">CopyRight</span><span class="p">,</span>
<span class="o">...</span>                     <span class="n">copyright_text</span><span class="o">=</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="s1">&#39;test&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="arandomness.argparse.CopyRight.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>parser</em>, <em>namespace</em>, <em>value</em>, <em>option_string=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arandomness/argparse/CopyRight.html#CopyRight.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#arandomness.argparse.CopyRight.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the given text stripped of excess whitespace and exits</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parser</strong> (<em>ArgumentParser</em>) – parser used to generate values</li>
<li><strong>namespace</strong> (<em>Namespace</em>) – namespace to set values for</li>
<li><strong>value</strong> (<em>str</em>) – actual value specified by user</li>
<li><strong>option_string</strong> (<em>str</em>) – argument flag used to call this function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code> – if value is not a str</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – if value cannot, for any reason, be parsed
by commas</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="copen">
<h2>COpen<a class="headerlink" href="#copen" title="Permalink to this headline">¶</a></h2>
<p># TODO: Add copen to files, move most of this there, and just reference it</p>
<p><code class="docutils literal notranslate"><span class="pre">COpen</span></code> is an <code class="docutils literal notranslate"><span class="pre">argparse</span></code> <code class="docutils literal notranslate"><span class="pre">action</span></code> that seamlessly handles reading and
writing compressed files using the
<a class="reference external" href="https://docs.python.org/2/library/gzip.html">gzip</a>,
<a class="reference external" href="https://docs.python.org/2/library/bz2.html">bz2</a>, and
<a class="reference external" href="https://docs.python.org/3/library/lzma.html">lzma</a> libraries. To do this,
<code class="docutils literal notranslate"><span class="pre">COpen</span></code> actually exposes the arguments of each to libraries <code class="docutils literal notranslate"><span class="pre">*File</span></code>
function to the command line after automatically selecting the proper
library based on the arguments it receives. Essentially, this <code class="docutils literal notranslate"><span class="pre">action</span></code>
operates in a read mode and a write/append mode. In read mode, when mode is
equal to any read mode supported by the appropriate library such as <code class="docutils literal notranslate"><span class="pre">r</span></code> or
<code class="docutils literal notranslate"><span class="pre">rb</span></code>, <code class="docutils literal notranslate"><span class="pre">COpen</span></code> reads the first few bytes of the file to see what
compression format the file uses and then opens the file with the
corresponding in decompression algorithm. In write mode, basically when mode
is set to anything else, <code class="docutils literal notranslate"><span class="pre">COpen</span></code> just checks the file extension and maps it
to the corresponding compression algorithm. If <code class="docutils literal notranslate"><span class="pre">COpen</span></code> does not recognize
the first few bytes of a file or a file extension, it defaults to reading
and writing in plain text.</p>
<p>As aforementioned, <code class="docutils literal notranslate"><span class="pre">COpen</span></code> exposes the arguments of the underlying library.
It does this by collecting arbitrary arguments, filtering them by the
supported arguments of the <code class="docutils literal notranslate"><span class="pre">*File</span></code> functions, and only passing those
arguments to the function. For example, <code class="docutils literal notranslate"><span class="pre">GzipFile</span></code> and <code class="docutils literal notranslate"><span class="pre">BZ2File</span></code> can
control the level on compression via the argument <code class="docutils literal notranslate"><span class="pre">compresslevel</span></code> while
<code class="docutils literal notranslate"><span class="pre">LZMAFile</span></code> uses <code class="docutils literal notranslate"><span class="pre">preset</span></code> to control compression levels. In order to use
these arguments at the <code class="docutils literal notranslate"><span class="pre">argparse</span></code> level, simply add them as options to
<code class="docutils literal notranslate"><span class="pre">COpen</span></code> as follows:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arandomness.argparse</span> <span class="kn">import</span> <span class="n">COpen</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--gzip&#39;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="n">COpen</span><span class="p">,</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">compresslevel</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;compressed file to read&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--bz2&#39;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="n">COpen</span><span class="p">,</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">compresslevel</span><span class="o">=</span><span class="mi">9</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;compressed file to write&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--lzma&#39;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="n">COpen</span><span class="p">,</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">preset</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;compressed file to write&#39;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="s1">&#39;-i&#39;</span><span class="p">,</span> <span class="s1">&#39;input.gz&#39;</span><span class="p">,</span> <span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;output.xz&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>As stated, this works for any argument and arguments that aren’t supported
by the <code class="docutils literal notranslate"><span class="pre">*File</span></code> are silently ignored.</p>
<p>Common use example:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arandomness.argparse</span> <span class="kn">import</span> <span class="n">COpen</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-i&#39;</span><span class="p">,</span> <span class="s1">&#39;--input&#39;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="n">COpen</span><span class="p">,</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;compressed file to read&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;--output&#39;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="n">COpen</span><span class="p">,</span>
                    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;compressed file to write&#39;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="s1">&#39;-i&#39;</span><span class="p">,</span> <span class="s1">&#39;input.gz&#39;</span><span class="p">,</span> <span class="s1">&#39;-o&#39;</span><span class="p">,</span> <span class="s1">&#39;output.xz&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="section" id="id3">
<h3>API Documentation<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="arandomness.argparse.COpen">
<em class="property">class </em><code class="descclassname">arandomness.argparse.</code><code class="descname">COpen</code><span class="sig-paren">(</span><em>option_strings</em>, <em>dest</em>, <em>mode='rb'</em>, <em>nargs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arandomness/argparse/COpen.html#COpen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#arandomness.argparse.COpen" title="Permalink to this definition">¶</a></dt>
<dd><p>Argparse Action that detects and opens compressed files for rw</p>
<dl class="attribute">
<dt id="arandomness.argparse.COpen.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#arandomness.argparse.COpen.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>list of keyword arguments passed to compression algo</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">various</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="arandomness.argparse.COpen.mode">
<code class="descname">mode</code><a class="headerlink" href="#arandomness.argparse.COpen.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>mode to open file with</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Examples</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">arandomness.argparse</span> <span class="kn">import</span> <span class="n">COpen</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">argparse</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">tempfile</span> <span class="kn">import</span> <span class="n">NamedTemporaryFile</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Write bzip file using COpen</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">temp</span> <span class="o">=</span> <span class="n">NamedTemporaryFile</span><span class="p">(</span><span class="n">delete</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;.bz2&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;test_bzip&#39;</span><span class="p">,</span>
<span class="o">...</span>                   <span class="n">action</span><span class="o">=</span><span class="n">COpen</span><span class="p">,</span>
<span class="o">...</span>                   <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;wb&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="n">temp</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">args</span><span class="o">.</span><span class="n">test_bzip</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;bzip2&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">args</span><span class="o">.</span><span class="n">test_bzip</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># Read bzip file using COpen</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;test_bzip&#39;</span><span class="p">,</span>
<span class="o">...</span>                   <span class="n">action</span><span class="o">=</span><span class="n">COpen</span><span class="p">,</span>
<span class="o">...</span>                   <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="n">temp</span><span class="o">.</span><span class="n">name</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">args</span><span class="o">.</span><span class="n">test_bzip</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="sa">b</span><span class="s1">&#39;bzip2&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="arandomness.argparse.COpen.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>parser</em>, <em>namespace</em>, <em>value</em>, <em>option_string=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arandomness/argparse/COpen.html#COpen.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#arandomness.argparse.COpen.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects and opens compressed files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parser</strong> (<em>ArgumentParser</em>) – parser used to generate values</li>
<li><strong>namespace</strong> (<em>Namespace</em>) – namespace to set values for</li>
<li><strong>value</strong> (<em>str</em>) – actual value specified by user</li>
<li><strong>option_string</strong> (<em>str</em>) – argument flag used to call this function</li>
<li><strong>**kwargs</strong> (<em>various</em>) – optional arguments later passed to the
compression algorithm</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="parseseparator">
<h2>ParseSeparator<a class="headerlink" href="#parseseparator" title="Permalink to this headline">¶</a></h2>
<p>By default, <code class="docutils literal notranslate"><span class="pre">argparse</span></code> parses multiple arguments by spaces. While useful,
it can sometimes be more practical, or at least easier to read, arguments
parsed by commas or some other separator character when multiple arguments
make use of <a class="reference external" href="https://docs.python.org/3/library/argparse.html#nargs">nargs</a>.
<code class="docutils literal notranslate"><span class="pre">ParseSeparator</span></code> simply takes a string, splits it by the user-defined
separator, and sets the resulting list as the value for the argument. For
example:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">arandomness.argparse</span> <span class="kn">import</span> <span class="n">ParseSeparator</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-a&#39;</span><span class="p">,</span> <span class="s1">&#39;--an_argument&#39;</span><span class="p">,</span>
                    <span class="n">action</span><span class="o">=</span><span class="n">ParseSeparator</span><span class="p">,</span>
                    <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;nargs using a string&#39;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="s1">&#39;hello,world&#39;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">an_argument</span><span class="p">)</span>
</pre></div>
</div>
<p>So the argument <code class="docutils literal notranslate"><span class="pre">hello,world</span></code> would be set as <code class="docutils literal notranslate"><span class="pre">['hello',</span> <span class="pre">'world']</span></code> in args.</p>
<div class="section" id="id4">
<h3>API Documentation<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="arandomness.argparse.ParseSeparator">
<em class="property">class </em><code class="descclassname">arandomness.argparse.</code><code class="descname">ParseSeparator</code><span class="sig-paren">(</span><em>option_strings</em>, <em>dest</em>, <em>sep='</em>, <em>'</em>, <em>nargs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arandomness/argparse/ParseSeparator.html#ParseSeparator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#arandomness.argparse.ParseSeparator" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Argparse Action that parses arguments by a user-supplied separator</dt>
<dd>character</dd>
</dl>
<dl class="attribute">
<dt id="arandomness.argparse.ParseSeparator.kwargs">
<code class="descname">kwargs</code><a class="headerlink" href="#arandomness.argparse.ParseSeparator.kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>optional arguments to pass to super call</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">various</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="arandomness.argparse.ParseSeparator.sep">
<code class="descname">sep</code><a class="headerlink" href="#arandomness.argparse.ParseSeparator.sep" title="Permalink to this definition">¶</a></dt>
<dd><p>any character that separates arguments</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
</dd></dl>

<p class="rubric">Example</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,</span>
<span class="o">...</span>                     <span class="n">action</span><span class="o">=</span><span class="n">ParseSeparator</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">([</span><span class="s1">&#39;this,is,a,test&#39;</span><span class="p">])</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">args</span><span class="o">.</span><span class="n">test</span>
<span class="p">[</span><span class="s1">&#39;this&#39;</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;test&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p># Test comma parsing
args = parser.parse_args([‘this,is,a,test’])</p>
<dl class="method">
<dt id="arandomness.argparse.ParseSeparator.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>parser</em>, <em>namespace</em>, <em>value</em>, <em>option_string=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/arandomness/argparse/ParseSeparator.html#ParseSeparator.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#arandomness.argparse.ParseSeparator.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by Argparse when user specifies a character-separated list</p>
<p>Simply splits a list by the supplied character and adds the values to
namespace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parser</strong> (<em>ArgumentParser</em>) – parser used to generate values</li>
<li><strong>namespace</strong> (<em>Namespace</em>) – namespace to set values for</li>
<li><strong>value</strong> (<em>str</em>) – actual value specified by user</li>
<li><strong>option_string</strong> (<em>str</em>) – argument flag used to call this function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code> – if value is not a str</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> – if value cannot, for any reason, be parsed
by the separator character</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2017, Alex Hyer.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/argparse.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/TheOneHyer/arandomness" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>